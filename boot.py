# Launches any necessary files

import os
import sys
import subprocess
import data_file_load, detector, model

ans = input("Would you like to install the necessary libraries for this lab? Y/N")

if ans == "Y" or ans == "y":
    subprocess.run(["apt-get", "install", "clang", "libzmq5", "libzmq3-dev", "python3", "python3-zmq"], shell=True)

    # Compile C program
    subprocess.run(["gcc", "-Wall", "-g",  "Malware_Detector_C/main.c", "-lzmq", "-o", "main"], shell=True)

    # gets data
    data_file_load.main()

    # builds model
    model.main()

    # launch C program
    subprocess.Popen(["./Malware_Detector_C/main"], shell=True)

    # detects malware from c
    subprocess.Popen(["python", "detector.py"])

    print("done")
else:
    print("exiting")

# exits boot
sys.exit(0)

