import pickle

print("connected")
model = pickle.load(open("model.pickle.dat", "rb"))
count_vect = pickle.load(open("countvec.pickle.dat", "rb"))
while True:
    file = open('data.txt', 'r')
    data = [str(file.read())]
    print(len(data[0]))
    file.close()
    if len(data[0]) != 1:
        print("here")
        pred = model.predict(count_vect.transform(data))
        pred = str(int(float(pred[0])))
        file = open('data.txt', 'w')
        file.write(pred)
        file.close()
        print(pred)
